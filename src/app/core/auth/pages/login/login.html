<div class="auth">
  <div class="auth__bg"></div>

  <section class="auth__card">
    <!-- Left panel -->
    <div class="auth__side">
      <div class="brand">
        <div class="brand__logo" aria-hidden="true">
          <mat-icon>bolt</mat-icon>
        </div>

        <div class="brand__text">
          <h1 class="brand__title">PulseBoard</h1>
          <p class="brand__subtitle">Check-ins rápidos. Conteúdo com imagens. Performance a sério.</p>
        </div>
      </div>

      <ul class="bullets">
        <li>
          <mat-icon>check_circle</mat-icon>
          <span>Auth: Email/Password, Magic Link e Google</span>
        </li>
        <li>
          <mat-icon>check_circle</mat-icon>
          <span>Feed eficiente: cache, rendering inteligente e imagens otimizadas</span>
        </li>
        <li>
          <mat-icon>check_circle</mat-icon>
          <span>Arquitetura: Facades + Signals + REST + Interceptors</span>
        </li>
      </ul>

      <div class="side__footer">
        <span class="tiny">Zoneless • Angular 21 • Material</span>
      </div>
    </div>

    <!-- Right panel -->
    <div class="auth__main">
      <mat-card class="card">
        <mat-card-header>
          <mat-card-title>Entrar</mat-card-title>
          <mat-card-subtitle>Bem-vindo de volta</mat-card-subtitle>
        </mat-card-header>

        @if (busy()) {
          <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        }

        <mat-card-content class="content">
          <form class="form" [formGroup]="form" (ngSubmit)="onLoginEmailPassword()">
            <mat-form-field appearance="outline" class="full">
              <mat-label>Email</mat-label>
              <input matInput type="email" formControlName="email" autocomplete="email" />
              <mat-icon matSuffix>mail</mat-icon>
              @if (form.controls.email.invalid && form.controls.email.touched) {
                <mat-error>Introduz um email válido</mat-error>
              }
            </mat-form-field>

            <mat-form-field appearance="outline" class="full">
              <mat-label>Password</mat-label>
              <input matInput type="password" formControlName="password" autocomplete="current-password" />
              <mat-icon matSuffix>lock</mat-icon>
              @if (form.controls.password.invalid && form.controls.password.touched) {
                <mat-error>Mínimo 6 caracteres</mat-error>
              }
            </mat-form-field>

            <div class="actions">
              <button
                mat-raised-button
                color="primary"
                type="submit"
                class="actions__primary"
                [disabled]="busy() || form.invalid"
              >
                <mat-icon>login</mat-icon>
                <span>Login</span>
              </button>

              <button
                mat-button
                type="button"
                [disabled]="busy() || form.invalid"
                (click)="onSignUp()"
              >
                Criar conta
              </button>
            </div>

            <div class="or">
              <span class="or__line"></span>
              <span class="or__text">ou</span>
              <span class="or__line"></span>
            </div>

            <div class="alt">
              <button
                mat-stroked-button
                type="button"
                class="alt__btn"
                [disabled]="busy() || form.controls.email.invalid"
                (click)="onMagicLink()"
              >
                <mat-icon>magic_button</mat-icon>
                <span>Magic link</span>
              </button>

              <button
                mat-stroked-button
                type="button"
                class="alt__btn"
                [disabled]="busy()"
                (click)="onGoogle()"
              >
                <mat-icon>google</mat-icon>
                <span>Google</span>
              </button>
            </div>

            <p class="hint">
              Dica: Magic link é perfeito para dev rápido sem te lembrares de passwords.
            </p>
          </form>
        </mat-card-content>

        <mat-card-actions align="end" class="footer">
          <span class="tiny">© {{ year() }} PulseBoard</span>
        </mat-card-actions>
      </mat-card>
    </div>
  </section>
</div>